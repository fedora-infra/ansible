---
freezes: false
# eth0 is disabled/nothing
# eth1 is active network
# eth2 is disabled/nothing
# NOTE network configuration beyond the scope of linux-system-roles on
# this host is performed by the openqa/worker role

datacenter: iad2

mac1: 00:1b:21:e0:78:b2
mac2: 50:6b:4b:7f:96:30
mac3: 50:6b:4b:7f:96:31

dns1: 10.3.163.33
dns2: 10.3.163.34

dns_search1: "iad2.fedoraproject.org"
dns_search2: "fedoraproject.org"

has_ipv4: yes

eth0_mac: "{{ mac1 }}"

eth1_ipv4: 10.3.174.61
eth1_ipv4_nm: 24
eth1_ipv4_gw: 10.3.174.254
eth1_mac: "{{ mac2 }}"

eth2_mac: "{{ mac3 }}"

network_connections:
- name: eth0
  mac: "{{ eth0_mac }}"
  state: down
  type: ethernet
  autoconnect: no
- name: eth1
  mac: "{{ eth1_mac }}"
  state: up
  type: ethernet
  autoconnect: yes
  ip:
    address:
    - "{{ eth1_ipv4 }}/{{ eth1_ipv4_nm }}""
    auto_gateway: yes
    gateway4: "{{ eth1_ipv4_gw }}"
    dns:
    - "{{ dns1 }}"
    - "{{ dns2 }}"
    dns_search:
    - "{{ dns_search1 }}"
    - "{{ dns_search2 }}"
    dhcp4: no
    auto6: no
- name: eth2
  mac: "{{ eth2_mac }}"
  state: down
  type: ethernet
  autoconnect: no

nrpe_procs_warn: 250
nrpe_procs_crit: 300

sudoers: "{{ private }}/files/sudo/qavirt-sudoers"

openqa_tap_iface: eth1

# this is a powerful machine, can handle more openQA workers
openqa_workers: 15
# firewall ports for server->worker websockets connections
# this port is 'QEMUPORT plus 1'
# QEMUPORT is:
# $ENV{QEMUPORT} = ($options{instance}) * 10 + 20002;
# so for worker 1 it's 20012, for worker 2 it's 20022, etc etc
tcp_ports: ['20013', '20023', '20033', '20043', '20053', '20063', '20073', '20083', '20093', '20103', '20113', '20123', '20133', '20143', '20153']

# has an HW RNG, so let's have rngd
openqa_rngd: True
