---
# common items for the releng-* boxes
deployment_type: prod
# These are consumed by a task in roles/fedmsg/base/main.yml
fedmsg_certs:
  - can_send:
      - logger.log
    group: sysadmin
    owner: root
    service: shell
  - can_send:
      - mailman.receive
    group: mailman
    owner: mailman
    service: mailman
ipa_client_shell_groups:
  - sysadmin-tools
ipa_client_sudo_groups:
  - sysadmin-tools
ipa_host_group: mailman
ipa_host_group_desc: Mailing list services
lvm_size: 300000
# Used by the mailman role
mailman_db_server: db01.stg.iad2.fedoraproject.org
mailman_domains:
  - lists.stg.fedoraproject.org
  - lists.stg.fedorahosted.org
  - lists.stg.pagure.io
mailman_login:
  facebook:
    display_name: Facebook
    provider: facebook
  github:
    display_name: GitHub
    provider: github
  gitlab:
    display_name: GitLab
    provider: gitlab
  google:
    display_name: Google
    provider: google
  stackexchange:
    display_name: StackExchange
    provider: stackexchange
  twitter:
    display_name: Twitter
    provider: twitter
  fedora:
    display_name: Fedora
    provider: fedora
max_mem_size: 32768
mem_size: 32768
nrpe_check_postfix_queue_crit: 50
# by default, the number of emails in queue before we whine
nrpe_check_postfix_queue_warn: 20
num_cpus: 4
# for systems that do not match the above - specify the same parameter in
# the host_vars/$hostname file

# Postfix main.cf
postfix_group: mailman-stg
tcp_ports: [25, 80, 443,
  # For outbound fedmsg
  3000, 3001, 3002, 3003]

# mailman role variables
mailman_log_level: debug
mailman_rest_api_username: "{{ mailman_stg_rest_api_user }}"
mailman_rest_api_password: "{{ mailman_stg_rest_api_pass }}"
mailman_mailman_db_pass: "{{ mailman_mm_db_pass }}"
mailman_hyperkitty_admin_db_pass: "{{ mailman_hk_admin_db_pass }}"
mailman_hyperkitty_db_pass: "{{ mailman_hk_db_pass }}"
mailman_hyperkitty_cookie_key: "{{ mailman_hk_cookie_key }}"
mailman_hyperkitty_archiver_key: "{{ mailman_hk_stg_archiver_key }}"
mailman_openidc_server_url: "https://id.stg.fedoraproject.org/"
mailman_httpd_hostname: lists.stg.fedoraproject.org

# Setting debug variables to 'true' disables mail sending
# If you want to enable it just set it to 'false'
mailman_debug: true
mailman_hyperkitty_debug: true
