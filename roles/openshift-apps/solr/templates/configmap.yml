---
apiVersion: v1
kind: ConfigMap
metadata:
  name: solr-configmap
  labels:
    app: solr
{% macro load_file(filename) %}{% include filename %}{%- endmacro -%}
data:
  solrconfig.xml: |-
    {{ load_file('packages/solrconfig.xml') | indent }}
  schema.xml: |-
    {{ load_file('packages/schema.xml') | indent }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: solr-start-configmap
  labels:
    app: solr
  solr-start.sh: |-
    {{ load_file('solr-start.sh') | indent }}
